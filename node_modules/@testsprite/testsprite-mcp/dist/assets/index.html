<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Upload File</title>
    <link rel="stylesheet" href="font.css">
    <link rel="stylesheet" href="main.css">
</head>

<body>
<div class="root">
    <div class="header">
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQzIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQzIDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMjdfNDk5OSkiPgo8cGF0aCBkPSJNMjcuNTI4OCAzLjkyMTYzQzI3LjUzNDIgMy45MjE4NyAyNy41Mjk1IDMuOTMxNjcgMjcuNTE2MSAzLjk0OTk1QzI3LjQwNzkgNC40NzcwOCAyNy40NzgzIDEyLjIxODYgMjcuNTI4OCAxNi4xNTdMMzAuODYxOCAxOS42MDgyTDMwLjA3ODYgMTkuODkxNEMyNC45NDM2IDIxLjc1MjMgMjAuMTg3MyAyNC41MjY1IDE2LjAzODYgMjguMDc4OUMxMS45MjkxIDI0LjUyNjggNy4yMDc2OCAyMS43NTE0IDIuMTA0OTggMTkuODg5NEwxLjMzMjUyIDE5LjYwODJMNC43MDQ1OSAxNi4xNTdWMy45MjE2M0wxMS42NDYgMTAuODYzSDIwLjU4NzRDMjIuODQ1MiA4LjY1NTE2IDI3LjIyODggNC4zNDAxIDI3LjUxNjEgMy45NDk5NUMyNy41MTk5IDMuOTMxMzggMjcuNTI0NSAzLjkyMTYzIDI3LjUyODggMy45MjE2M1pNMjIuNDY2MyAxMy4wNTgzQzE5Ljc2MzYgMTQuNjcwOSAxNy4zMDc4IDE2LjY2NTcgMTUuMTc1MyAxOC45ODAyTDEyLjMxMiAxNi42Mjc3TDExLjEzNjIgMTcuNjA4MkwxNS44ODA0IDIyLjk4MDJDMTcuODU2MiAxOS41NDg1IDIwLjMzNDYgMTYuNDMxNCAyMy4yMzE5IDEzLjczMjJMMjMuNDQ5NyAxMy41MjkxTDIzLjA1NzEgMTIuNzA1OEwyMi40NjYzIDEzLjA1ODNaIiBmaWxsPSIjRTNFNEU1Ii8+CjwvZz4KPHBhdGggZD0iTTEwMi4yNiAyMy45Mzg2TDEwNC44NzUgMTAuNDg5NUgxMDguNzk4VjExLjQwOTZDMTA4Ljc5OCAxMS40MTUzIDEwOC44MDQgMTEuNDE4NiAxMDguODA5IDExLjQxNTFMMTA5LjIxNyAxMS4xMDg4QzEwOS40MzUgMTAuOTQ1NyAxMDkuNjczIDEwLjgxMiAxMDkuOTI1IDEwLjcxMUMxMTAuMjkxIDEwLjU2NDcgMTEwLjY4MSAxMC40ODk1IDExMS4wNzUgMTAuNDg5NUgxMTkuMjU4VjcuODc0NDJMMTIyLjk5NCA2Ljc1MzY2VjEwLjQ4OTVIMTI1LjIzNUwxMjQuMzAyIDEzLjg1MThIMTIxLjg3M0wxMjAuOTcyIDE5LjA3OTdDMTIwLjk1IDE5LjIwNTUgMTIwLjkzOSAxOS4zMzMgMTIwLjkzOSAxOS40NjA3VjE5Ljk5MzNDMTIwLjkzOSAyMC4yNDcgMTIxLjA0IDIwLjQ5MDMgMTIxLjIxOSAyMC42Njk3QzEyMS4zOTkgMjAuODQ5MSAxMjEuNjQyIDIwLjk0OTkgMTIxLjg5NiAyMC45NDk5SDEyMy4zNjhMMTIyLjYyIDIzLjkzODZIMTE5LjkxNkMxMTkuMTQxIDIzLjkzODYgMTE4LjQwMyAyMy42MDczIDExNy44ODkgMjMuMDI4MkMxMTcuNDQ3IDIyLjUzMTcgMTE3LjIwMyAyMS44OTA1IDExNy4yMDMgMjEuMjI2MlYyMC45NDk5TDExOC4xMzcgMTMuODUxOEgxMTYuMjY5TDExNC41ODggMjMuOTM4NkgxMTAuNDc5TDExMi4xNiAxMy44NTE4SDExMC45ODNDMTEwLjI3OCAxMy44NTE4IDEwOS41NzggMTMuOTY1NSAxMDguOTA5IDE0LjE4ODRDMTA4LjgzNSAxNC4yMTI5IDEwOC43NjcgMTQuMjUwMSAxMDguNzA2IDE0LjI5ODRMMTA3Ljg2NCAxNC45NzI1TDEwNi4zNjkgMjMuOTM4NkgxMDIuMjZaIiBmaWxsPSIjRTNFNEU1Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNODguOTk3NiAyOC42MDg0TDkyLjE3MyAxMC42NzYzSDk5LjU5MjZDMTAwLjQ2MyAxMC42NzYzIDEwMS4yOTggMTEuMDIyMSAxMDEuOTE0IDExLjYzNzdDMTAyLjYwNiAxMi4zMzAxIDEwMi45NTMgMTMuMjk1NCAxMDIuODYgMTQuMjcwMUwxMDIuNzM5IDE1LjU0MTFDMTAyLjY2OSAxNi4yNzY1IDEwMi40NjQgMTYuOTkyNSAxMDIuMTM0IDE3LjY1MzJMMTAxLjgwNSAxOC4zMTAyQzEwMS4yNDQgMTkuNDMxOSAxMDAuNDMgMjAuNDA3NyA5OS40MjY3IDIxLjE2MDFDOTguOTUwOCAyMS41MTcgOTguNDM3MSAyMS44MjAyIDk3Ljg5NDcgMjIuMDY0M0w5Ni41NDU0IDIyLjY3MTVDOTUuNTAxMSAyMy4xNDE0IDk0LjQxMTYgMjMuNTAzNCA5My4yOTM4IDIzLjc1MThMOTIuNTQ2NiAyOC42MDg0SDg4Ljk5NzZaTTk1LjM0ODYgMTMuODUxN0w5NC40MTQ2IDIwLjU3NjNMOTUuMzQwOSAyMC4xOTAzQzk2LjIwNjYgMTkuODI5NiA5Ni45Nzk2IDE5LjI3ODMgOTcuNjAyNyAxOC41Nzc1TDk3Ljc1MTkgMTguNDA5NkM5OC4wMTY0IDE4LjExMTkgOTguMjQwNiAxNy43ODA4IDk4LjQxODcgMTcuNDI0Nkw5OC42MjQ3IDE3LjAxMjdDOTguODA0MiAxNi42NTM3IDk4Ljg5NzYgMTYuMjU3OSA5OC44OTc2IDE1Ljg1NjZWMTUuNDQ2MUM5OC44OTc2IDE1LjAyMzMgOTguNzI5NiAxNC42MTc3IDk4LjQzMDYgMTQuMzE4N0M5OC4xMzE2IDE0LjAxOTcgOTcuNzI2MSAxMy44NTE3IDk3LjMwMzIgMTMuODUxN0g5NS4zNDg2WiIgZmlsbD0iI0UzRTRFNSIvPgo8cGF0aCBkPSJNNDEuMTc5MiA5LjM2ODdMNDEuNTUyOCA1LjQ0NjA0SDU2LjY4M0w1NS45MzU4IDkuNTU1NDlINTAuNzA1Nkw0OC4wOTA1IDI0LjEyNTNINDIuODYwM0w0Ni4wMzU4IDkuMzY4N0g0MS4xNzkyWiIgZmlsbD0iI0UzRTRFNSIvPgo8cGF0aCBkPSJNMTE3Ljk1MSA2LjE5MzI1QzExNy45NTEgNy43NDA2OSAxMTYuMzIzIDguOTk1MTQgMTE0Ljc3NiA4Ljk5NTE0QzExMy4yMjggOC45OTUxNCAxMTIuMzQ3IDcuNzQwNjkgMTEyLjM0NyA2LjE5MzI1QzExMi4zNDcgNC42NDU4MSAxMTMuNzg5IDMuMzkxMzYgMTE1LjMzNiAzLjM5MTM2QzExNi44ODQgMy4zOTEzNiAxMTcuOTUxIDQuNjQ1ODEgMTE3Ljk1MSA2LjE5MzI1WiIgZmlsbD0iI0UzRTRFNSIvPgo8cGF0aCBkPSJNMTQxLjQ4NyAyMS44ODM5QzE0MS40ODcgMjMuNDMxNCAxMzkuODU5IDI0LjY4NTggMTM4LjMxMiAyNC42ODU4QzEzNi43NjQgMjQuNjg1OCAxMzUuODgzIDIzLjQzMTQgMTM1Ljg4MyAyMS44ODM5QzEzNS44ODMgMjAuMzM2NSAxMzcuMzI1IDE5LjA4MiAxMzguODcyIDE5LjA4MkMxNDAuNDE5IDE5LjA4MiAxNDEuNDg3IDIwLjMzNjUgMTQxLjQ4NyAyMS44ODM5WiIgZmlsbD0iI0UzRTRFNSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTU2Ljk0MzcgMjAuNzA3TDU5LjUxNCAxOC43NzkzQzYwLjIzNzMgMTguMjM2OCA2MC44Nzc0IDE3LjU5MTMgNjEuNDEzOCAxNi44NjMzTDYyLjY5MTIgMTUuMTI5NkM2My4wMzQ3IDE0LjY2MzUgNjMuMjIgMTQuMDk5NyA2My4yMiAxMy41MjA3QzYzLjIyIDEzLjAwNDkgNjMuMDcyOSAxMi40OTk4IDYyLjc5NiAxMi4wNjQ2TDYyLjc1NDkgMTIuMDAwMUM2Mi4yMjc3IDExLjE3MTYgNjEuMzI1NiAxMC42NTY3IDYwLjM0NDEgMTAuNjIzOUw1Ny45MjggMTAuNTQzNEM1Ni44NjM4IDEwLjUwNzkgNTUuODA2NyAxMC43MjcyIDU0Ljg0NDQgMTEuMTgzQzUzLjQ5MzcgMTEuODIyOSA1Mi4zOTY0IDEyLjg5NzEgNTEuNzI3OSAxNC4yMzM5TDUxLjcwMTYgMTQuMjg2NkM1MS4wNTM4IDE1LjU4MjIgNTAuODMzMiAxNy4wNDk2IDUxLjA3MTMgMTguNDc4NEw1MS4xNDU4IDE4LjkyNTVDNTEuMzQ1IDIwLjEyMDYgNTEuOTEyNiAyMS4yMjM2IDUyLjc2OTMgMjIuMDgwM0M1My4zNzc5IDIyLjY4ODkgNTQuMTE0IDIzLjE1NDcgNTQuOTI0NiAyMy40NDQyTDU1LjE3MDggMjMuNTMyMUM1NS45MjM4IDIzLjgwMTEgNTYuNzE3NCAyMy45Mzg1IDU3LjUxNjkgMjMuOTM4NUg2NS43MTE3QzY2LjYzOTYgMjMuOTM4NSA2Ny41NDE0IDIzLjYzMTggNjguMjc2OCAyMy4wNjYxQzY5LjEwOTMgMjIuNDI1NyA2OS42NzIxIDIxLjQ5NyA2OS44NTQ3IDIwLjQ2MjdMNjkuODYzIDIwLjQxNThDNzAuMDM2NSAxOS40MzIzIDY5Ljg2NDggMTguNDE5MSA2OS4zNzY4IDE3LjU0NzhMNjcuNTI4NyAxNC4yNDc1QzY3LjUyMzEgMTQuMjM3NiA2Ny41MzAzIDE0LjIyNTMgNjcuNTQxNyAxNC4yMjUzSDcyLjQ4NTlDNzIuNTI0MSAxNC4yMjUzIDcyLjU1MjkgMTQuMjYwMSA3Mi41NDU2IDE0LjI5NzZMNzEuNTE4MiAxOS42MDU3QzcxLjQ2NTQgMTkuODc4NSA3MS40Mzg4IDIwLjE1NTcgNzEuNDM4OCAyMC40MzM2VjIxLjE3MTJDNzEuNDM4OCAyMS43NTEgNzEuNjQ5MyAyMi4zMTExIDcyLjAzMTEgMjIuNzQ3NUM3Mi40ODU3IDIzLjI2NyA3My4xNDIzIDIzLjU2NDkgNzMuODMyNiAyMy41NjQ5SDg0Ljg0MTlDODUuODQ3NiAyMy41NjQ5IDg2LjgzMiAyMy4yNzU4IDg3LjY3NzkgMjIuNzMyTDg4LjA5MjEgMjIuNDY1N0M4OC42ODI3IDIyLjA4NjEgODkuMTQ5MyAyMS41NDIgODkuNDM0NCAyMC45MDA0Qzg5LjYzODkgMjAuNDQwNCA4OS43NDQ1IDE5Ljk0MjUgODkuNzQ0NSAxOS40MzkxVjE5LjIxOTFDODkuNzQ0NSAxOC4yNzgyIDg5LjQ1ODIgMTcuMzU5NyA4OC45MjM2IDE2LjU4NTVMODQuMzYwNSA5Ljk3Njc3Qzg0LjM0NjUgOS45NTY1OCA4NC4zNjEgOS45MjkwNSA4NC4zODU1IDkuOTI5MDVIOTAuNzM3OEM5MC45MTk1IDkuOTI5MDUgOTEuMDc0OCA5Ljc5ODQyIDkxLjEwNTkgOS42MTk0N0w5MS43OTQ4IDUuNjU4M0M5MS43OTcxIDUuNjQ0OTkgOTEuNzg2OSA1LjYzMjgxIDkxLjc3MzQgNS42MzI4MUg4NS4wMjk3QzgzLjg1ODMgNS42MzI4MSA4Mi43MzA1IDYuMDc3MzUgODEuODc0MSA2Ljg3NjY0QzgwLjkzNyA3Ljc1MTMxIDgwLjQwNDkgOC45NzU3MiA4MC40MDQ5IDEwLjI1NzZWMTAuNzExNEM4MC40MDQ5IDExLjc4NjUgODAuNzEwNiAxMi44Mzk0IDgxLjI4NjQgMTMuNzQ3NEw4NS4yMzEyIDE5Ljk2ODJDODUuMjQ0NCAxOS45ODg4IDg1LjIyOTUgMjAuMDE1OSA4NS4yMDUgMjAuMDE1OUg3NS45OTE0Qzc1Ljc1OTggMjAuMDE1OSA3NS41ODQgMTkuODA3NCA3NS42MjMxIDE5LjU3OTJMNzYuNjE1OCAxMy43ODg2Qzc2LjY0NjYgMTMuNjA5MiA3Ni44MDIxIDEzLjQ3ODEgNzYuOTg0IDEzLjQ3ODFINzguNTgwN0M3OC43NjkyIDEzLjQ3ODEgNzguOTI4MSAxMy4zMzc4IDc4Ljk1MTUgMTMuMTUwOUw3OS4yMzE2IDEwLjkwOTNDNzkuMjU5NSAxMC42ODY0IDc5LjA4NTYgMTAuNDg5NCA3OC44NjA5IDEwLjQ4OTRINzcuNjAzQzc3LjM5NjcgMTAuNDg5NCA3Ny4yMjk0IDEwLjMyMjIgNzcuMjI5NCAxMC4xMTU4VjcuMTMzMzNDNzcuMjI5NCA2Ljg2NTEzIDc2Ljk1NTIgNi42ODQzIDc2LjcwODcgNi43ODk5Nkw3My41MzMyIDguMTUwODdDNzMuMzk1OCA4LjIwOTc0IDczLjMwNjggOC4zNDQ4MSA3My4zMDY4IDguNDk0MjVWMTAuNDY5NkM3My4zMDY4IDEwLjQ4MDYgNzMuMjk3OSAxMC40ODk0IDczLjI4NyAxMC40ODk0SDY2Ljk0MzNDNjYuMTEgMTAuNDg5NCA2NS4zMDY2IDEwLjggNjQuNjkgMTEuMzYwNkM2My45OTE3IDExLjk5NTQgNjMuNTkzNiAxMi44OTU0IDYzLjU5MzYgMTMuODM5MlYxNC43OTA3QzYzLjU5MzYgMTUuNTI3IDYzLjc0MTQgMTYuMjU1OCA2NC4wMjgzIDE2LjkzNEw2NS42MzMxIDIwLjcyNzFDNjUuNjQwMyAyMC43NDQyIDY1LjYyNzggMjAuNzYzIDY1LjYwOTMgMjAuNzYzSDU2Ljk2MjRDNTYuOTMyNSAyMC43NjMgNTYuOTE5OCAyMC43MjUgNTYuOTQzNyAyMC43MDdaTTU0LjYyNzkgMTcuOTYxMUw1Ni45MTc4IDE2LjgxNjFDNTcuMTMzOCAxNi43MDgxIDU3LjMzNTggMTYuNTc0IDU3LjUxOTEgMTYuNDE2OUw1Ny44NzkgMTYuMTA4NEM1OC4zMDUzIDE1Ljc0MyA1OC41NTA2IDE1LjIwOTcgNTguNTUwNiAxNC42NDgyVjE0LjI0NzlDNTguNTUwNiAxMy45OTQyIDU4LjQ0OTggMTMuNzUwOCA1OC4yNzA0IDEzLjU3MTRDNTguMDkxIDEzLjM5MiA1Ny44NDc3IDEzLjI5MTMgNTcuNTk0IDEzLjI5MTNINTYuODAwMUM1Ni40NzcyIDEzLjI5MTMgNTYuMTU4NyAxMy4zNjY0IDU1Ljg2OTkgMTMuNTEwOUM1NS40Mjk4IDEzLjczMDkgNTUuMDgyIDE0LjA5OTggNTQuODg4MiAxNC41NTJMNTQuODI5MiAxNC42ODk2QzU0LjY5NjQgMTQuOTk5NCA1NC42Mjc5IDE1LjMzMyA1NC42Mjc5IDE1LjY3VjE3Ljk2MTFaIiBmaWxsPSIjRTNFNEU1Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTM0Ljc2MSAyMC45NDk5TDEzNC4wMTQgMjMuNTY1SDEzMS4wNzRDMTI5LjgxOSAyMy41NjUgMTI4LjU4NiAyMy4yMzE3IDEyNy41MDIgMjIuNTk5MkwxMjcuMzg4IDIyLjUzM0MxMjcuMDc0IDIyLjM0OTcgMTI2Ljc3OCAyMi4xMzY5IDEyNi41MDQgMjEuODk3NEwxMjYuMTIgMjEuNTYwOEMxMjUuNjYxIDIxLjE1OTggMTI1LjMxIDIwLjY1MTUgMTI1LjA5NiAyMC4wODEzQzEyNC45NDEgMTkuNjY3NSAxMjQuODYxIDE5LjIyOTIgMTI0Ljg2MSAxOC43ODczVjE2LjIzNDRDMTI0Ljg2MSAxNS4yODM1IDEyNS4wOTcgMTQuMzQ3NSAxMjUuNTQ4IDEzLjUxMDJDMTI1Ljk1NiAxMi43NTE0IDEyNi41MzEgMTIuMDk0MiAxMjcuMjI3IDExLjU4NzRMMTI3LjQ2MSAxMS40MTc3QzEyNy45NjQgMTEuMDUxNCAxMjguNTM0IDEwLjc4NTQgMTI5LjEzOCAxMC42MzQ0QzEyOS41MjMgMTAuNTM4MiAxMjkuOTE4IDEwLjQ4OTUgMTMwLjMxNSAxMC40ODk1SDEzMy45NTdDMTM0LjM2MSAxMC40ODk1IDEzNC43NTkgMTAuNTk1MSAxMzUuMTEgMTAuNzk1OUMxMzUuNjA3IDExLjA3OTcgMTM1Ljk4MiAxMS41MzY4IDEzNi4xNjMgMTIuMDc5NUwxMzYuMjc1IDEyLjQxNjZDMTM2LjM4NiAxMi43NDg2IDEzNi40NDIgMTMuMDk2MiAxMzYuNDQyIDEzLjQ0NjFWMTMuNTY1M0MxMzYuNDQyIDE0LjEyMzcgMTM2LjMyNSAxNC42NzU4IDEzNi4wOTggMTUuMTg2TDEzNi4wNjkgMTUuMjUxMUMxMzUuODIzIDE1LjgwNjMgMTM1LjQ2MiAxNi4zMDMzIDEzNS4wMSAxNi43MDk4TDEzNC4zMDIgMTcuMzQ3NEMxMzMuOTg2IDE3LjYzMTcgMTMzLjY1IDE3Ljg5MjggMTMzLjI5NiAxOC4xMjg1TDEzMC40NjkgMjAuMDEzQzEzMC40NjcgMjAuMDE0NCAxMzAuNDY3IDIwLjAxNzcgMTMwLjQ2OSAyMC4wMTk0QzEzMS4xOSAyMC42MjA2IDEzMi4xIDIwLjk0OTkgMTMzLjAzOSAyMC45NDk5SDEzNC43NjFaTTEyOC4wMzYgMTguMTQ4TDEzMC4zMjYgMTcuMDAzQzEzMC41NDIgMTYuODk1IDEzMC43NDQgMTYuNzYwOSAxMzAuOTI3IDE2LjYwMzhMMTMxLjI4NyAxNi4yOTUzQzEzMS43MTMgMTUuOTI5OSAxMzEuOTU5IDE1LjM5NjUgMTMxLjk1OSAxNC44MzUxVjE0LjQzNDhDMTMxLjk1OSAxNC4xODEgMTMxLjg1OCAxMy45Mzc3IDEzMS42NzggMTMuNzU4M0MxMzEuNDk5IDEzLjU3ODkgMTMxLjI1NiAxMy40NzgxIDEzMS4wMDIgMTMuNDc4MUgxMzAuMjA4QzEyOS44ODUgMTMuNDc4MSAxMjkuNTY3IDEzLjU1MzMgMTI5LjI3OCAxMy42OTc3QzEyOC44MzggMTMuOTE3OCAxMjguNDkgMTQuMjg2NyAxMjguMjk2IDE0LjczODlMMTI4LjIzNyAxNC44NzY1QzEyOC4xMDQgMTUuMTg2MyAxMjguMDM2IDE1LjUxOTkgMTI4LjAzNiAxNS44NTY5VjE4LjE0OFoiIGZpbGw9IiNFM0U0RTUiLz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjdfNDk5OSI+CjxyZWN0IHdpZHRoPSIyOS4zMzMzIiBoZWlnaHQ9IjI5LjMzMzMiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjMzMzI1IDEuMzMzMjUpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==" class="logo" alt="logo" />
    </div>

    <div class="container py60">
        <form id="form" class="form">
            <h1 class="Semi-bold-headline-30 Fg-default">Testing Configuration</h1>
            <h2 class="tooltip-label Medium-body-16 Fg-default mt40">Testing Types <span class="Fg-error">*</span> <span class="tooltip" id="tooltip-type">Testing Types Required</span></h2>
            <p class="Regular-body-14 Fg-secondary mt2">Select your testing types.</p>

            <div class="block mt10">
                <div class="field-line">
                    <div class="field-label">Mode</div>

                    <div class="field-body">
                        <div class="tabs" id="tab-mode">
                            <div class="tabs-content">
                                <div class="current" role="button" data-value="Backend">Backend</div>
                                <div role="button" data-value="Frontend">Frontend</div>
                            </div>
                        </div>

                        <p class="field-tip">Choose whether to test your backend service or frontend workflows.</p>
                    </div>
                </div>

                <hr class="split"/>

                <div class="field-line">
                    <div class="field-label">Scope</div>

                    <div class="field-body">
                        <div class="tabs" id="tab-scope">
                            <div class="tabs-content">
                                <div class="current" role="button" data-value="codebase">Codebase</div>
                                <div role="button" data-value="diff">Code diff</div>
                            </div>
                        </div>

                        <p class="field-tip">Select whether to test against the entire codebase or just recent changes (uncommitted git changes).</p>
                    </div>
                </div>
            </div>


            <div class="line-backend-authentication">
                <h2 class="tooltip-label Medium-body-16 Fg-default mt30">Authentication <span class="Fg-error">*</span> <span class="tooltip" id="tooltip-authentication">Authentication Required</span></h2>
                <p class="Regular-body-14 Fg-secondary mt2">Select how your backend server authenticates incoming requests.</p>

                <div class="block mt10">
                    <div class="field-line">
                        <label class="field-label" for="backendAuthType">Type</label>

                        <div class="field-body">
                            <select class="select" id="backendAuthType">
                                <option value="basic token">Basic - Uses username & password</option>
                                <option value="Bearer token">Bearer - Secure token-based authentication</option>
                                <option value="API key">API-key - Uses a unique API key for access</option>
                                <option value="public">None - No authentication required</option>
                            </select>

                            <p class="field-tip" id="tip-type"></p>
                        </div>
                    </div>


                    <div class="field-line mt20" id="form-item-credential">
                        <label class="field-label" for="backendCredential">Credential</label>

                        <div class="field-body">
                            <input class="input" id="backendCredential" />
                            <p class="field-tip">Enter your bearer token (e.g., eyJhbGciOiJIUzI1NiIsInR5cCI6...).</p>
                        </div>
                    </div>


                    <div class="field-line mt20" id="form-item-api-key">
                        <label class="field-label" for="backendApiKey">Key</label>

                        <div class="field-body">
                            <input class="input" id="backendApiKey" />
                            <p class="field-tip">Enter the name of the header used for the API key (e.g., x-api-key).</p>
                        </div>
                    </div>

                    <div class="field-line mt20" id="form-item-api-value">
                        <label class="field-label" for="backendApiValue">Value</label>

                        <div class="field-body">
                            <input class="input" id="backendApiValue" />
                            <p class="field-tip">Enter the value of the API key provided by your server (e.g., 12345-abcde-67890).</p>
                        </div>
                    </div>

                    <div class="field-line mt20" id="form-item-username">
                        <label class="field-label" for="backendUsername">Username</label>

                        <div class="field-body">
                            <input class="input" id="backendUsername" />
                            <p class="field-tip">Enter the test account’s username used for your server.</p>
                        </div>
                    </div>

                    <div class="field-line mt20" id="form-item-password">
                        <label class="field-label" for="backendPassword">Password</label>

                        <div class="field-body">
                            <input class="input" id="backendPassword" />
                            <p class="field-tip">Enter the corresponding password for that test account.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="line-account">
                <h2 class="Medium-body-16 Fg-default mt30">Test Account Info <span class="Fg-secondary">(Optional)</span></h2>
                <p class="Regular-body-14 Fg-secondary mt2">Provide the login credentials for a test account that can be used to access and test your application.</p>

                <div class="block mt10">
                    <div class="field-line">
                        <label class="field-label" for="login_user">Test Account Username</label>

                        <div class="field-body">
                            <input type="text" name="login_user" class="input" id="login_user">
                            <p class="field-tip">Provide a test account username, e.g., test@example.com.</p>
                        </div>
                    </div>

                    <div class="field-line mt20">
                        <label class="field-label" for="login_password">Test Account Password</label>

                        <div class="field-body">
                            <input type="password" name="login_password" class="input" id="login_password">
                            <p class="field-tip">Enter the corresponding password for the test account, e.g., 123456abc.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="line-url">
                <h2 class="tooltip-label Medium-body-16 Fg-default mt30">Local Development Port <span class="Fg-error">*</span> <span class="tooltip" id="tooltip-port">Local Development Port Required</span></h2>
                <p class="Regular-body-14 Fg-secondary mt2">Port where your local dev server is running e.g. 3000 in localhost:3000.</p>

                <div class="block mt10">
                    <div class="field-line ">
                        <label class="field-label">Port</label>

                        <div class="field-body">
                            <div class="line-url-content">
                                <label>
                                    <span>http://localhost:</span>
                                    <input type="text" name="port" class="input" inputmode="numeric" pattern="[0-9]*" maxlength="5"/>
                                </label>
                            </div>
                        </div>
                    </div>

                    <p class="field-tip2 mt20">
                        <img src="./img/exclamation-circle.svg" alt="icon"/>
                        Please ensure your server is running and reachable.</p>
                </div>
            </div>

            <div class="line-file mt30">
                <div class="tooltip-label Medium-body-16 Fg-default ">Product Specification Doc <span class="Fg-error">*</span> <span class="tooltip" id="tooltip-files">Product Spec Required</span></div>
                <p class="Regular-body-14 Fg-secondary mt2">Upload a document that explains your desired product’s features, purpose, and how it should work.</p>

                <div class="file-picker">
                    <div class="file-container">
                        <div class="file-picker-tips">
                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjUiIHZpZXdCb3g9IjAgMCA2NCA2NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI0LjM4OCAxMy42NDU0QzI0Ljk2NCAxNC4yMjE0IDI1LjI4NzUgMTUuMDAyNSAyNS4yODc1IDE1LjgxN1YxNi42NTkxSDQ0Ljg1MzdDNDUuNjY4MiAxNi42NTkxIDQ2LjQ0OTQgMTYuOTgyNyA0Ny4wMjUzIDE3LjU1ODZMNDkuMDg5MyAxOS45Mjg0QzQ5LjU4MjQgMjAuNDg3NyA0OS44NTY3IDIxLjIwOTMgNDkuODU2NyAyMS45NTkzVjI1Ljg3MjVINTAuOTk2QzUxLjQ2NjcgMjUuODcyNCA1MS45MzEyIDI1Ljk4MDQgNTIuMzUzNiAyNi4xODg0TDU0LjgxMDUgMjguNzQ1NUM1NS4wMTcyIDI4LjkwNTggNTUuMjAzMiAyOS4wOTIyIDU1LjM2MzYgMjkuMzAwOUM1NS42NTA1IDI5LjY3NDEgNTUuODQ3OCAzMC4xMDgyIDU1Ljk0MDIgMzAuNTY5OUM1Ni4wMzI3IDMxLjAzMTUgNTYuMDE3NyAzMS41MDgxIDU1Ljg5NjYgMzEuOTYzTDUxLjM5MjIgNTAuMzg5OUM1MS4yMTggNTEuMDQ0MSA1MC44MzI1IDUxLjYyMjUgNTAuMjk1NiA1Mi4wMzVDNDkuNzU4NyA1Mi40NDc0IDQ5LjEwMDUgNTIuNjcwOSA0OC40MjM1IDUyLjY3MDdMMTMuNDE4OSA1Mi42MjI2QzEzLjQxMTIgNTIuNjIyNiAxMy40MDM1IDUyLjYyMjYgMTMuMzk1OCA1Mi42MjI2QzEzLjI1MDQgNTIuNjIxOSAxMy4xMDQ2IDUyLjYxMjEgMTIuOTU5IDUyLjU5M0MxMi4xMjk4IDUyLjQ4NDEgMTEuMzY3NSA1Mi4wODAzIDEwLjgxMTYgNTEuNDU1NEw5Ljg0NTY3IDUwLjM0MDlMOC44Nzk3NSA0OS4yMjY0QzguMzIzODUgNDguNjAxNSA4LjAxMTU2IDQ3Ljc5NzMgOCA0Ni45NjFWMTMuNTg4QzggMTIuNzczNSA4LjMyMzU3IDExLjk5MjMgOC44OTk1MiAxMS40MTY0QzkuNDc1NDcgMTAuODQwNCAxMC4yNTY2IDEwLjUxNjggMTEuMDcxMSAxMC41MTY4SDIwLjI4NDZDMjEuMDk5MSAxMC41MTY4IDIxLjg4MDIgMTAuODQwNCAyMi40NTYyIDExLjQxNjRMMjQuMzg4IDEzLjY0NTRaIiBmaWxsPSIjMjEyMjI0Ii8+CjxwYXRoIGQ9Ik0yNC4zODggMTMuNjQ1NEMyNC45NjQgMTQuMjIxNCAyNS4yODc1IDE1LjAwMjUgMjUuMjg3NSAxNS44MTdWMTYuNjU5MU0yNC4zODggMTMuNjQ1NEMyMy44MTIxIDEzLjA2OTUgMjMuMDMwOSAxMi43NDU5IDIyLjIxNjQgMTIuNzQ1OUgxMy4wMDNDMTIuMjU4OCAxMi43NDU5IDExLjU0MjUgMTMuMDE2IDEwLjk4NTEgMTMuNTAxOU0yNC4zODggMTMuNjQ1NEwyMi40NTYyIDExLjQxNjRDMjEuODgwMiAxMC44NDA0IDIxLjA5OTEgMTAuNTE2OCAyMC4yODQ2IDEwLjUxNjhIMTEuMDcxMUMxMC4yNTY2IDEwLjUxNjggOS40NzU0NyAxMC44NDA0IDguODk5NTIgMTEuNDE2NE0yMi42ODIzIDI4LjcxNTRDMjIuMTQ5OSAyOS4xMTQ2IDIxLjc2MTQgMjkuNjc1OSAyMS41NzU2IDMwLjMxNDlMMTYuNzYyMSA1MC4wODY5QzE2LjUzNSA1MC44OTE4IDE2LjAyNTcgNTEuNTg4MSAxNS4zMjc0IDUyLjA0ODNDMTQuNjI5IDUyLjUwODUgMTMuNzg4MyA1Mi43MDE5IDEyLjk1OSA1Mi41OTNDMTIuMTI5OCA1Mi40ODQxIDExLjM2NzUgNTIuMDgwMyAxMC44MTE2IDUxLjQ1NTRMOS44NDU2NyA1MC4zNDA5TDguODc5NzQgNDkuMjI2NEM4LjMyMzg1IDQ4LjYwMTUgOC4wMTE1NiA0Ny43OTczIDggNDYuOTYxVjEzLjU4OEM4IDEyLjc3MzUgOC4zMjM1NyAxMS45OTIzIDguODk5NTIgMTEuNDE2NE0yMi42ODIzIDI4LjcxNTRDMjMuMjE0OCAyOC4zMTYzIDIzLjg2MjUgMjguMTAwOCAyNC41MjggMjguMTAxNkg1Mi45Mjc4QzUzLjM5ODYgMjguMTAxNCA1My44NjMxIDI4LjIwOTUgNTQuMjg1NCAyOC40MTc0QzU0LjQ3MTcgMjguNTA5MSA1NC42NDc1IDI4LjYxOTIgNTQuODEwNSAyOC43NDU1TTIyLjY4MjMgMjguNzE1NEwyMC43NTA1IDI2LjQ4NjRNMTMuMzk1NSA1Mi42MjI2TDQ4LjQyMzUgNTIuNjcwN0M0OS4xMDA1IDUyLjY3MDkgNDkuNzU4NyA1Mi40NDc0IDUwLjI5NTYgNTIuMDM1QzUwLjgzMjUgNTEuNjIyNSA1MS4yMTggNTEuMDQ0MSA1MS4zOTIyIDUwLjM4OTlMNTUuODk2NiAzMS45NjNDNTYuMDE3NyAzMS41MDgxIDU2LjAzMjcgMzEuMDMxNSA1NS45NDAyIDMwLjU2OTlDNTUuODQ3OCAzMC4xMDgyIDU1LjY1MDUgMjkuNjc0MSA1NS4zNjM2IDI5LjMwMDlDNTUuMjAzMiAyOS4wOTIyIDU1LjAxNzIgMjguOTA1OCA1NC44MTA1IDI4Ljc0NTVNOC44OTk1MiAxMS40MTY0TDEwLjk4NTEgMTMuNTAxOU0yMC43NTA1IDI2LjQ4NjRDMjAuMjE4IDI2Ljg4NTUgMTkuODI5NiAyNy40NDY4IDE5LjY0MzcgMjguMDg1OEwxNC44MzAyIDQ3Ljg1NzhDMTQuNjAzMiA0OC42NjI4IDE0LjA5MzkgNDkuMzU5IDEzLjM5NTUgNDkuODE5M0MxMi4zMjI2IDUwLjExMzkgMTEuMzA0NCA0OS4wMDMgMTAuODExNiA0OC41NTk0QzkuOTE5OTcgNDguMDY0IDkuNzIxODMgNDcuMDQwMyA5LjcyMTgzIDQ2LjY2MzhMOS45MzE4NSAxNS44MTdDOS45MzE4NSAxNS4wMDI1IDEwLjI1NTQgMTQuMjIxNCAxMC44MzE0IDEzLjY0NTRDMTAuODgxMSAxMy41OTU3IDEwLjkzMjQgMTMuNTQ3OCAxMC45ODUxIDEzLjUwMTlNMjAuNzUwNSAyNi40ODY0QzIxLjI4MjkgMjYuMDg3MiAyMS45MzA2IDI1Ljg3MTggMjIuNTk2MSAyNS44NzI1SDQ5Ljg1NjdNNDkuMDg5MyAxOS45Mjg0QzQ5LjU4MjQgMjAuNDg3NyA0OS44NTY3IDIxLjIwOTMgNDkuODU2NyAyMS45NTkzVjI1Ljg3MjVNNDkuMDg5MyAxOS45Mjg0QzQ5LjA0NjkgMTkuODgwMyA0OS4wMDI4IDE5LjgzMzMgNDguOTU3MSAxOS43ODc3QzQ4LjM4MTIgMTkuMjExNyA0Ny42IDE4Ljg4ODIgNDYuNzg1NSAxOC44ODgySDI1LjI4NzVWMTYuNjU5MU00OS4wODkzIDE5LjkyODRMNDcuMDI1MyAxNy41NTg2QzQ2LjQ0OTQgMTYuOTgyNyA0NS42NjgyIDE2LjY1OTEgNDQuODUzNyAxNi42NTkxSDI1LjI4NzVNNDkuODU2NyAyNS44NzI1SDUwLjk5NkM1MS40NjY3IDI1Ljg3MjQgNTEuOTMxMiAyNS45ODA0IDUyLjM1MzYgMjYuMTg4NEw1NC44MTA1IDI4Ljc0NTUiIHN0cm9rZT0iIzNDM0MzRCIgc3Ryb2tlLXdpZHRoPSIwLjgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNNDguOTU3MSAxOS43ODc3QzQ5LjAwMjggMTkuODMzMyA0OS4wNDY5IDE5Ljg4MDMgNDkuMDg5MyAxOS45Mjg0TTEyLjk1OSA1Mi41OTNDMTIuMTI5OCA1Mi40ODQxIDExLjM2NzUgNTIuMDgwMyAxMC44MTE2IDUxLjQ1NTRMOS44NDU2NyA1MC4zNDA5TDguODc5NzQgNDkuMjI2NEM4LjMyMzg1IDQ4LjYwMTUgOC4wMTE1NiA0Ny43OTczIDggNDYuOTYxVjEzLjU4OEM4IDEyLjc3MzUgOC4zMjM1NyAxMS45OTIzIDguODk5NTIgMTEuNDE2NEM5LjQ3NTQ3IDEwLjg0MDQgMTAuMjU2NiAxMC41MTY4IDExLjA3MTEgMTAuNTE2OEgyMC4yODQ2QzIxLjA5OTEgMTAuNTE2OCAyMS44ODAyIDEwLjg0MDQgMjIuNDU2MiAxMS40MTY0TDI0LjM4OCAxMy42NDU0QzI0Ljk2NCAxNC4yMjE0IDI1LjI4NzUgMTUuMDAyNSAyNS4yODc1IDE1LjgxN1YxNi42NTkxSDQ0Ljg1MzdDNDUuNjY4MiAxNi42NTkxIDQ2LjQ0OTQgMTYuOTgyNyA0Ny4wMjUzIDE3LjU1ODZMNDkuMDg5MyAxOS45Mjg0TTEzLjM5NTUgNTIuNjIyNkw0OC40MjM1IDUyLjY3MDdDNDkuMTAwNSA1Mi42NzA5IDQ5Ljc1ODcgNTIuNDQ3NCA1MC4yOTU2IDUyLjAzNUM1MC44MzI1IDUxLjYyMjUgNTEuMjE4IDUxLjA0NDEgNTEuMzkyMiA1MC4zODk5TDU1Ljg5NjYgMzEuOTYzQzU2LjAxNzcgMzEuNTA4MSA1Ni4wMzI3IDMxLjAzMTUgNTUuOTQwMiAzMC41Njk5QzU1Ljg0NzggMzAuMTA4MiA1NS42NTA1IDI5LjY3NDEgNTUuMzYzNiAyOS4zMDA5QzU1LjIwMzIgMjkuMDkyMiA1NS4wMTcyIDI4LjkwNTggNTQuODEwNSAyOC43NDU1TDUyLjM1MzYgMjYuMTg4NEM1MS45MzEyIDI1Ljk4MDQgNTEuNDY2NyAyNS44NzI0IDUwLjk5NiAyNS44NzI1SDQ5Ljg1NjdWMjEuOTU5M0M0OS44NTY3IDIxLjIwOTMgNDkuNTgyNCAyMC40ODc3IDQ5LjA4OTMgMTkuOTI4NCIgc3Ryb2tlPSIjOTU5NTk3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==" alt="folder" />
                            Select your product requirements document (PDF, Markdown, or other formats)
                        </div>

                        <input class="file" id="file" type="file" accept=".pdf,.md,.json,.yaml,.yml,.txt" multiple>
                    </div>

                    <p class="Regular-body-12 Fg-secondary mt8">
                        Even a draft works — we’ll generate a comprehensive, standardized PRD for you later.
                    </p>

                    <h3 class="Medium-body-14 Fg-default mt20">Uploaded files</h3>

                    <div class="file-list"></div>

                    <div class="file-list-item" id="file-item-tpl">
                        <div class="file-name">CompanyPRD_docs</div>
                        <div class="file-size">3.5MB</div>
                        <button type="button" class="file-delete"></button>
                    </div>
                </div>
            </div>

            <div style="display: flex; justify-content: flex-end; gap: 12px; margin-top: 24px;">
                <button type="reset" class="button reset">Reset</button>
                <button type="submit" id="submit" class="button submit">Continue</button>
            </div>
        </form>
    </div>
</div>

<script>
    const errors = {
        type: false,
        authentication: false,
        port: false,
        files: false,
    }

    function getValueFromQueryParam(key) {
        const params = new URLSearchParams(window.location.search);
        const raw = params.get(key);
        return raw ? decodeURIComponent(raw) : undefined;
    }

    const projectPath = getValueFromQueryParam('project_path');

    function render(config = {}) {
        if (config.type) {
            const modeTabs = document.querySelectorAll('#tab-mode .tabs-content > div');
            modeTabs.forEach(tab => {
                if (tab.innerText.toLowerCase() === config.type) {
                    modeTabs.forEach(t => t.classList.remove('current'));
                    tab.classList.add('current');

                    if (config.type === 'frontend') {
                        document.querySelector('.line-account').style.display = 'block';
                        document.querySelector('.line-backend-authentication').style.display = 'none';
                    }

                    if (config.type === 'backend') {
                        document.querySelector('.line-account').style.display = 'none';
                        document.querySelector('.line-backend-authentication').style.display = 'block';
                    }
                }
            });
        }

        if(config.backendAuthType) {
            console.log(config.backendAuthType);
            document.querySelector('#backendAuthType').value = config.backendAuthType;

            if(config.backendAuthType === 'public') {
                document.querySelector("#tip-type").innerHTML = "Choose this if your backend server doesn’t require authentication to access its endpoints.";
                document.querySelector("#form-item-credential").style.display = 'none';
                document.querySelector("#form-item-username").style.display = 'none';
                document.querySelector("#form-item-password").style.display = 'none';
                document.querySelector("#form-item-api-key").style.display = 'none';
                document.querySelector("#form-item-api-value").style.display = 'none';
            } else if(config.backendAuthType === 'API key') {
                document.querySelector("#tip-type").innerHTML = "Select this if your server expects an API key in request headers.";
                document.querySelector("#form-item-credential").style.display = 'none';
                document.querySelector("#form-item-username").style.display = 'none';
                document.querySelector("#form-item-password").style.display = 'none';
                document.querySelector("#form-item-api-key").style.display = 'flex';
                document.querySelector("#form-item-api-value").style.display = 'flex';
            } else if(config.backendAuthType === 'basic token') {
                document.querySelector("#tip-type").innerHTML = "Select if your backend requires basic auth with username and password.";
                document.querySelector("#form-item-credential").style.display = 'none';
                document.querySelector("#form-item-username").style.display = 'flex';
                document.querySelector("#form-item-password").style.display = 'flex';
                document.querySelector("#form-item-api-key").style.display = 'none';
                document.querySelector("#form-item-api-value").style.display = 'none';
            } else {
                document.querySelector("#tip-type").innerHTML = "Select this if your backend uses bearer tokens in the Authorization header.";
                document.querySelector("#form-item-credential").style.display = 'flex';
                document.querySelector("#form-item-username").style.display = 'none';
                document.querySelector("#form-item-password").style.display = 'none';
                document.querySelector("#form-item-api-key").style.display = 'none';
                document.querySelector("#form-item-api-value").style.display = 'none';
            }
        }

        if(config.backendCredential) {
            document.getElementById('backendCredential').value = config.backendCredential;
        }

        if(config.backendUsername) {
            document.getElementById('backendUsername').value = config.backendUsername;
        }

        if(config.backendPassword) {
            document.getElementById('backendPassword').value = config.backendPassword;
        }

        if(config.backendApiKey) {
            document.getElementById('backendApiKey').value = config.backendApiKey;
        }

        if(config.backendApiValue) {
            document.getElementById('backendApiValue').value = config.backendApiValue;
        }

        // tab: testScope -> Scope
        if (config.scope) {
            const scopeTabs = document.querySelectorAll('#tab-scope .tabs-content > div');
            scopeTabs.forEach(tab => {
                if (tab.dataset.value === config.scope) {
                    tab.classList.add('current');
                } else {
                    tab.classList.remove('current');
                }
            });
        }

        if (config.loginUser) document.getElementById('login_user').value = config.loginUser;
        if (config.loginPassword) document.getElementById('login_password').value = config.loginPassword;

        if (config.localEndpoint) {
            try {
                const url = new URL(config.localEndpoint);
                document.getElementsByName('port')[0].value = url.port || (url.protocol === 'https:' ? '443' : '80');
            } catch (e) {
                // If endpoint is not a valid URL, use it as is
                document.getElementsByName('port')[0].value = config.localEndpoint;
            }
        }

        if (Array.isArray(config.files) && config.files.length > 0) {
            files = config.files.map(name => ({ name, size: '', id: Math.random().toString(), fromServer: true }));
            initServerFiles = files;
            updateFileList();
        }

        toggleClassName(document.getElementById('tooltip-type'), 'show', errors.type)
        toggleClassName(document.getElementById('tooltip-port'), 'show', errors.port)
        toggleClassName(document.getElementById('tooltip-files'), 'show', errors.files)
        toggleClassName(document.getElementById('tooltip-authentication'), 'show', errors.authentication)
    }

    window.addEventListener('DOMContentLoaded', async () => {
        render({type: "backend", backendAuthType: "public"});

        if (!projectPath) return;
        try {
            const res = await fetch(`/api/config?project_path=${encodeURIComponent(projectPath)}`);
            if (!res.ok) return;
            const config = await res.json();
            render(config)
        } catch (e) { console.error(e) }
    });

    document.getElementById("file").addEventListener("change", async (e) => {
        e.preventDefault();

        // show file names
        Array.from(e.target.files).forEach(file => {
            addFile(file)
        });
    })

    let files = []
    let initServerFiles = []

    // drag file upload
    const fileContainer = document.querySelector('.file-container');

    fileContainer.addEventListener('dragenter', (e) => {
        e.preventDefault();
        e.stopPropagation();
        fileContainer.style.border = '2px dashed #1A7F53';
        fileContainer.style.background = '#23272e';
    });

    fileContainer.addEventListener('dragover', (e) => {
        e.preventDefault();
        e.stopPropagation();
    });

    fileContainer.addEventListener('dragleave', (e) => {
        e.preventDefault();
        e.stopPropagation();
        fileContainer.style.border = '';
        fileContainer.style.background = '';
    });

    fileContainer.addEventListener('drop', (e) => {
        e.preventDefault();
        e.stopPropagation();
        fileContainer.style.border = '';
        fileContainer.style.background = '';

        if (e.dataTransfer && e.dataTransfer.files) {
            const files = Array.from(e.dataTransfer.files);

            if(!files.every(file => isFileAccepted(file))) {
                alert('File type not accepted');
                return;
            }

            files.forEach(file => {
                addFile(file);
            });
        }
    });

    function getAcceptExts() {
        return (document.getElementById('file').getAttribute('accept') || '')
            .split(',')
            .map(ext => ext.trim().toLowerCase())
            .filter(Boolean);
    }

    function isFileAccepted(file) {
        const acceptExts = getAcceptExts();
        if (acceptExts.length === 0) return true;
        const name = file.name.toLowerCase();
        return acceptExts.some(ext => name.endsWith(ext));
    }

    function addFile(file) {
        files.push(file);
        updateFileList();
    }

    function removeFile(id) {
        const file = files.find(item => item.id === id)
        if(!file) return

        if(file.fromServer) {
            removeFileFromServer(file.name)
        }

        files = files.filter(file => file.id !== id);
        updateFileList()
    }

    function updateFileList() {
        const fileList = document.querySelector('.file-list')
        fileList.innerHTML = "";

        function formatFileSize(bytes) {
            if(!bytes) return '';
            const units = ['B', 'KB', 'MB', 'GB', 'TB'];
            let i = 0;
            while (bytes >= 1024 && i < units.length - 1) {
                bytes /= 1024;
                i++;
            }
            return bytes.toFixed(1) + ' ' + units[i];
        }

        files.forEach(file => {
            const listItem = document.getElementById("file-item-tpl").cloneNode(true);
            file.id = Math.random().toString();
            listItem.id = (`file-item-${file.id}`);
            listItem.querySelector(".file-name").innerText = file.name;
            listItem.querySelector(".file-size").innerText = formatFileSize(file.size);
            fileList.append(listItem);
        })
    }

    function getTabValue(id) {
        return document.getElementById(id).querySelector(".current").dataset.value;
    }


    async function removeFileFromServer(file) {
        return fetch(`/api/file?projectPath=${encodeURIComponent(projectPath)}&file=${encodeURIComponent(file)}`, {
            method: "DELETE",
        }).catch(e => {
            console.error(e);
        })
    }

    function toggleClassName(elm, className, add) {
        if(!elm) return;
        if(add) elm.classList.add(className);
        else elm.classList.remove(className);
    }

    // tabs change
    document.querySelectorAll(".tabs-content > div").forEach(tab => {
        tab.addEventListener("click", (e) => {
            const tabContainer = e.target.closest('.tabs');
            if (tabContainer.id === 'tab-mode') {
                render({ type: e.target.innerHTML.toLowerCase() })
            } else if (tabContainer.id === 'tab-scope') {
                render({ scope: e.target.dataset.value })
            }
        })
    })

    document.getElementById("backendAuthType").addEventListener("change", (e) => {
        render({backendAuthType: e.target.value})
    })

    document.querySelector(".file-list").addEventListener("click", (e) => {
        if (e.target.className !== 'file-delete') return;
        const id = e.target.parentNode.id.substring("file-item-".length)
        removeFile(id)
    })

        document.getElementsByName('port')[0].addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/\D/g, '');
    })

    document.getElementById('form').addEventListener('submit', async function (e) {
        e.preventDefault();
        Object.assign(errors, {files: false, type: false, port: false, authentication: false});
        render({})

        if (files.length === 0) {
            errors.files = true;
        }

        // geather form data
        const formData = new FormData();
        files.forEach(file => formData.append('file', file));

        const mode = getTabValue('tab-mode');
        const scope = getTabValue('tab-scope');
        const loginUser = document.getElementById('login_user').value;
        const loginPassword = document.getElementById('login_password').value;
        const port = document.getElementsByName('port')[0].value;
        const backendAuthType = document.getElementById('backendAuthType').value;
        const backendCredential = document.getElementById('backendCredential').value;
        const backendUsername = document.getElementById('backendUsername').value;
        const backendPassword = document.getElementById('backendPassword').value;
        const backendApiKey = document.getElementById('backendApiKey').value;
        const backendApiValue = document.getElementById('backendApiValue').value;

        if (!port?.trim()) {
            errors.port = true;
        }

        if (loginUser) formData.append('login_user', loginUser);
        if (loginPassword) formData.append('login_password', loginPassword);
        formData.append('mode', mode)
        formData.append('scope', scope)
        formData.append('port', port)

        if(mode.toLowerCase() === 'backend') {
            if(backendAuthType) formData.append('backendAuthType', backendAuthType)
            if(backendCredential) formData.append('backendCredential', backendCredential)
            if(backendUsername) formData.append('backendUsername', backendUsername)
            if(backendPassword) formData.append('backendPassword', backendPassword)
            if(backendApiKey) formData.append('backendApiKey', backendApiKey)
            if(backendApiValue) formData.append('backendApiValue', backendApiValue)
        }

        // show error info
        if(Object.values(errors).includes(true)) {
            return render({})
        }

        // formData.append('remove_files', initServerFiles.map(file => file.name).join(','))

        // ajax file upload
        try {
            document.getElementById("submit").disabled = true;

            const res = await fetch(`/api/commit?project_path=${encodeURIComponent(projectPath)}`, {
                method: 'POST',
                body: formData
            })

            await res.json()

            alert('upload success, the page will close automatically!');
            window.close();
        } catch (error) {
            alert('upload failed');
            document.getElementById('form').reset();
        } finally {
            document.getElementById("submit").disabled = false;
        }
    });
</script>
</body>

</html>